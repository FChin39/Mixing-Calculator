import * as fs from 'fs';
import path from 'path';
import { slash } from '../path';
export var isNativeComponent = function (sourcePath) {
    if (!sourcePath) {
        return false;
    }
    if (path.extname(sourcePath) !== '.js') {
        return false;
    }
    var sourceJsonPath = sourcePath.replace(/\.js$/, '.json');
    if (!fs.existsSync(sourceJsonPath)) {
        return false;
    }
    return require(sourceJsonPath).component;
};
export var getPath = function (from, to) {
    return slash(path.resolve(path.dirname(from), to));
};
var NATIVE_COMPONENT_OUTPUT_DIR = 'remaxVendors';
export function getNativeEntryAssetOutputPath(sourcePath, options) {
    return (NATIVE_COMPONENT_OUTPUT_DIR +
        '/' +
        slash(sourcePath)
            .replace(slash(options.cwd) + '/', '')
            .replace(slash(options.rootDir) + '/', '')
            .replace(/@/g, '_')
            .replace(/node_modules/g, 'npm'));
}
